<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ex-Servicemen Career Portal | Indian Defence</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        :root {
            --primary-color: #1a4d2e;
            --secondary-color: #4f6f52;
            --accent-color: #f4a460;
            --text-light: #e8e8e8;
            --bg-dark: #0a1612;
            --card-bg: rgba(26, 77, 46, 0.1);
            --border-color: rgba(244, 164, 96, 0.3);
            --success-color: #4caf50;
            --info-color: #2196f3;
            --warning-color: #ff9800;
        }

        body {
            background: linear-gradient(135deg, #0a1612 0%, #1a4d2e 100%);
            min-height: 100vh;
            color: var(--text-light);
            position: relative;
            overflow-x: hidden;
        }

        /* Enhanced Background Animation */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.1;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(244, 164, 96, 0.1) 10px,
                rgba(244, 164, 96, 0.1) 20px
            );
            animation: move 20s linear infinite;
        }

        /* Floating particles animation for login page */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(244, 164, 96, 0.3);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .particle:nth-child(1) {
            width: 6px;
            height: 6px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 4px;
            height: 4px;
            top: 60%;
            left: 20%;
            animation-delay: 2s;
        }

        .particle:nth-child(3) {
            width: 8px;
            height: 8px;
            top: 40%;
            left: 80%;
            animation-delay: 1s;
        }

        .particle:nth-child(4) {
            width: 5px;
            height: 5px;
            top: 80%;
            left: 70%;
            animation-delay: 3s;
        }

        .particle:nth-child(5) {
            width: 7px;
            height: 7px;
            top: 10%;
            left: 60%;
            animation-delay: 4s;
        }

        .particle:nth-child(6) {
            width: 3px;
            height: 3px;
            top: 70%;
            left: 30%;
            animation-delay: 1.5s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.3;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.8;
            }
        }

        @keyframes move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Enhanced Login Container */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        /* Glowing orbs animation */
        .login-container::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 15%;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(244, 164, 96, 0.3), transparent);
            border-radius: 50%;
            animation: glow 4s ease-in-out infinite alternate;
        }

        .login-container::after {
            content: '';
            position: absolute;
            bottom: 20%;
            right: 15%;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(26, 77, 46, 0.4), transparent);
            border-radius: 50%;
            animation: glow 3s ease-in-out infinite alternate-reverse;
        }

        @keyframes glow {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }
            100% {
                transform: scale(1.2);
                opacity: 0.7;
            }
        }

        .login-card {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            animation: slideInUp 1.2s ease-out;
            position: relative;
            overflow: hidden;
        }

        /* Enhanced card animations */
        .login-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(244, 164, 96, 0.1), transparent);
            animation: shimmer 3s linear infinite;
            z-index: -1;
        }

        @keyframes shimmer {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(80px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1.5s ease-out 0.3s both;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .military-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            animation: pulseGlow 2s infinite;
            position: relative;
        }

        .military-logo::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--accent-color), var(--primary-color));
            z-index: -1;
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes pulseGlow {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 20px rgba(244, 164, 96, 0.3);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 30px rgba(244, 164, 96, 0.6);
            }
        }

        h1 {
            color: var(--accent-color);
            animation: fadeInUp 1.5s ease-out 0.6s both;
        }

        h2, h3 {
            color: var(--accent-color);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 20px;
            animation: slideInLeft 1s ease-out both;
        }

        .form-group:nth-child(1) { animation-delay: 0.8s; }
        .form-group:nth-child(2) { animation-delay: 1s; }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-light);
            font-weight: 500;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input[type="text"],
        input[type="password"],
        input[type="email"],
        textarea {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 16px;
            transition: all 0.3s;
            position: relative;
        }

        input:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 3px rgba(244, 164, 96, 0.1);
            transform: translateY(-2px);
        }

        /* Enhanced Select Styling */
        select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(26, 77, 46, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 16px;
            transition: all 0.3s;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23f4a460' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 12px;
        }

        select:focus {
            outline: none;
            border-color: var(--accent-color);
            background-color: rgba(26, 77, 46, 0.9);
            box-shadow: 0 0 0 3px rgba(244, 164, 96, 0.1);
            transform: translateY(-2px);
        }

        /* Enhanced Option Styling */
        select option {
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: 10px;
            font-size: 16px;
            border: none;
        }

        select option:checked {
            background-color: var(--accent-color);
            color: var(--bg-dark);
        }

        select option:hover {
            background-color: var(--secondary-color);
            color: var(--text-light);
        }

        /* For Firefox */
        @-moz-document url-prefix() {
            select option {
                background-color: var(--primary-color);
                color: var(--text-light);
            }
            
            select option:checked {
                background-color: var(--accent-color);
                color: var(--bg-dark);
            }
        }

        button {
            padding: 12px 24px;
            background: var(--accent-color);
            border: none;
            border-radius: 8px;
            color: var(--bg-dark);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        button:hover::before {
            left: 100%;
        }

        button:hover {
            background: #e09040;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(244, 164, 96, 0.3);
        }

        .login-form-button {
            animation: slideInRight 1s ease-out 1.2s both;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Main App Container */
        .app-container {
            display: none;
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            background: rgba(26, 77, 46, 0.3);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-link {
            background: none;
            border: 2px solid transparent;
            padding: 10px 24px;
            font-size: 14px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--text-light);
            text-transform: none;
            letter-spacing: 0;
        }

        .nav-link:hover {
            background: rgba(244, 164, 96, 0.1);
            border-color: var(--accent-color);
        }

        .nav-link.active {
            background: var(--accent-color);
            color: var(--bg-dark);
            border-color: var(--accent-color);
        }

        /* Main Content Area */
        .main-content {
            padding: 0 40px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--accent-color);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .dashboard-card:hover::before {
            transform: scaleX(1);
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: rgba(244, 164, 96, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 16px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--accent-color);
        }

        .card-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-light);
        }

        /* Search Container */
        .search-container {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
        }

        .search-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .ai-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(33, 150, 243, 0.2);
            border-radius: 20px;
            font-size: 14px;
            color: var(--info-color);
        }

        .ai-indicator::before {
            content: '🤖';
            font-size: 16px;
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        /* Job Results */
        .job-results {
            display: grid;
            gap: 20px;
        }

        .job-card {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .job-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 16px;
        }

        .job-card:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent-color);
        }

        .job-title {
            color: var(--accent-color);
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .job-company {
            color: var(--text-light);
            font-size: 18px;
            margin-bottom: 5px;
        }

        .job-details {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 16px 0;
            font-size: 14px;
            color: rgba(232, 232, 232, 0.8);
        }

        .job-detail-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .match-score {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: rgba(76, 175, 80, 0.2);
            border-radius: 20px;
            font-size: 14px;
            color: var(--success-color);
            font-weight: 600;
        }

        .apply-btn {
            background: var(--accent-color);
            border: none;
            padding: 10px 24px;
            border-radius: 8px;
            color: var(--bg-dark);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 16px;
            width: auto;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .apply-btn:hover {
            background: #e09040;
            transform: translateX(5px);
        }

        /* CV Generator Section */
        .cv-form {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
        }

        .form-section {
            margin-bottom: 32px;
        }

        .form-section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(244, 164, 96, 0.3);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .cv-preview {
            background: white;
            color: #333;
            padding: 60px;
            border-radius: 12px;
            margin-top: 32px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .cv-preview h2,
        .cv-preview h3 {
            color: var(--primary-color);
        }

        /* Skills Input */
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            min-height: 40px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px dashed rgba(244, 164, 96, 0.3);
        }

        .skill-tag {
            background: var(--accent-color);
            color: var(--bg-dark);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            animation: scaleIn 0.3s ease-out;
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .skill-remove {
            cursor: pointer;
            font-weight: bold;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 50%;
            transition: all 0.2s;
        }

        .skill-remove:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: rotate(90deg);
        }

        /* AI Analysis Progress */
        .ai-progress {
            margin-top: 20px;
            padding: 20px;
            background: rgba(33, 150, 243, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(33, 150, 243, 0.3);
        }

        .ai-progress-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: var(--info-color);
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--info-color);
            border-radius: 4px;
            transition: width 0.3s ease-out;
        }

        .ai-insights {
            margin-top: 20px;
            padding: 16px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .ai-insights-header {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--success-color);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .insight-item {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .insight-item::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success-color);
        }

        /* Loading Animation */
        .loader {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }

        .loader-circle {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(244, 164, 96, 0.3);
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Message Toast */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent-color);
            color: var(--bg-dark);
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            display: none;
            animation: slideInRight 0.5s ease-out;
            z-index: 1000;
            font-weight: 500;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Profile Section */
        .profile-header {
            background: rgba(26, 77, 46, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            text-align: center;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            background: var(--accent-color);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            box-shadow: 0 5px 20px rgba(244, 164, 96, 0.3);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--accent-color);
        }

        .stat-label {
            font-size: 14px;
            color: rgba(232, 232, 232, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                padding: 0 20px 20px;
            }

            .navbar {
                padding: 15px 20px;
                flex-direction: column;
                text-align: center;
            }

            .nav-links {
                justify-content: center;
                width: 100%;
            }

            .search-filters {
                grid-template-columns: 1fr;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .cv-preview {
                padding: 30px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .login-card {
                padding: 30px;
                margin: 10px;
            }

            .particles .particle {
                display: none;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
            }

            .navbar,
            .search-container,
            .cv-form,
            button {
                display: none;
            }

            .cv-preview {
                box-shadow: none;
                margin: 0;
                padding: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <!-- Floating Particles for Login Page -->
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>
    
    <!-- Login Section -->
    <div id="loginSection" class="login-container">
        <div class="login-card">
            <div class="logo-section">
                <div class="military-logo">⚔️</div>
                <h1>Ex-Servicemen Career Portal</h1>
                <p style="margin-top: 10px; opacity: 0.8;">Indian Defence Forces</p>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="serviceNumber">Service Number</label>
                    <input type="text" id="serviceNumber" placeholder="Enter your service number" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                
                <button type="submit" class="login-form-button" style="width: 100%; margin-top: 20px;">Login</button>
            </form>
            
            <p style="text-align: center; margin-top: 20px; opacity: 0.7; font-size: 14px; animation: fadeInUp 1.5s ease-out 1.4s both;">
                Dedicated to serving those who served the nation
            </p>
        </div>
    </div>

    <!-- Main Application -->
    <div id="appContainer" class="app-container">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">
                <h2 style="margin: 0;">⚔️ Career Portal</h2>
                <span id="userName" style="color: var(--accent-color);"></span>
            </div>
            <div class="nav-links">
                <button class="nav-link active" onclick="showSection('dashboard')">Dashboard</button>
                <button class="nav-link" onclick="showSection('jobSearch')">Job Search</button>
                <button class="nav-link" onclick="showSection('cvGenerator')">CV Generator</button>
                <button class="nav-link" onclick="showSection('profile')">Profile</button>
                <button class="nav-link" onclick="logout()">Logout</button>
            </div>
        </nav>

        <div class="main-content">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <h2 style="margin-bottom: 30px;">Welcome to Your Dashboard</h2>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon">💼</div>
                        <div class="card-title">Jobs Applied</div>
                        <div class="card-value" id="jobsAppliedCount">0</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon">🎯</div>
                        <div class="card-title">Match Score</div>
                        <div class="card-value" id="avgMatchScore">0%</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon">📄</div>
                        <div class="card-title">CVs Generated</div>
                        <div class="card-value" id="cvsGeneratedCount">0</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon">🏆</div>
                        <div class="card-title">Profile Strength</div>
                        <div class="card-value" id="profileStrength">0%</div>
                    </div>
                </div>

                <div class="search-container">
                    <h3 style="margin-bottom: 20px;">Recommended Jobs Based on Your Profile</h3>
                    <div id="recommendedJobs" class="job-results"></div>
                </div>
            </div>

            <!-- Job Search Section -->
            <div id="jobSearch" class="section">
                <div class="search-container">
                    <div class="search-header">
                        <h2 style="margin: 0;">AI-Powered Job Search</h2>
                        <div class="ai-indicator">AI-Enhanced Matching</div>
                    </div>
                    
                    <div class="search-filters">
                        <div class="form-group">
                            <label>Keywords</label>
                            <input type="text" id="searchKeywords" placeholder="e.g., Security Manager, Admin Officer">
                        </div>
                        
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" id="searchLocation" placeholder="e.g., Delhi, Mumbai">
                        </div>
                        
                        <div class="form-group">
                            <label>Experience Level</label>
                            <select id="experienceLevel">
                                <option value="">All Levels</option>
                                <option value="entry">Entry Level (0-2 years)</option>
                                <option value="mid">Mid Level (3-5 years)</option>
                                <option value="senior">Senior Level (6+ years)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Job Type</label>
                            <select id="jobType">
                                <option value="">All Types</option>
                                <option value="full-time">Full Time</option>
                                <option value="part-time">Part Time</option>
                                <option value="contract">Contract</option>
                                <option value="consultant">Consultant</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Salary Range</label>
                            <select id="salaryRange">
                                <option value="">All Ranges</option>
                                <option value="0-5">₹0-5 LPA</option>
                                <option value="5-10">₹5-10 LPA</option>
                                <option value="10-20">₹10-20 LPA</option>
                                <option value="20+">₹20+ LPA</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Industry</label>
                            <select id="industry">
                                <option value="">All Industries</option>
                                <option value="security">Security Services</option>
                                <option value="it">Information Technology</option>
                                <option value="logistics">Logistics & Supply Chain</option>
                                <option value="manufacturing">Manufacturing</option>
                                <option value="consulting">Consulting</option>
                                <option value="government">Government & PSU</option>
                            </select>
                        </div>
                    </div>
                    
                    <button onclick="searchJobs()" style="width: 200px;">Search Jobs</button>
                </div>
                
                <div id="jobResults" class="job-results"></div>
            </div>

            <!-- CV Generator Section -->
            <div id="cvGenerator" class="section">
                <div class="cv-form">
                    <div class="search-header">
                        <h2 style="margin: 0;">AI-Powered CV Generator</h2>
                        <div class="ai-indicator">Military-to-Civilian Translation</div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">Personal Information</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" id="cvName" placeholder="Enter your full name">
                            </div>
                            
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="cvEmail" placeholder="Enter your email">
                            </div>
                            
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="text" id="cvPhone" placeholder="Enter your phone number">
                            </div>
                            
                            <div class="form-group">
                                <label>Location</label>
                                <input type="text" id="cvLocation" placeholder="Current city">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">Military Service Details</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Service Branch</label>
                                <select id="cvBranch">
                                    <option value="">Select Branch</option>
                                    <option value="army">Indian Army</option>
                                    <option value="navy">Indian Navy</option>
                                    <option value="airforce">Indian Air Force</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Rank at Retirement</label>
                                <input type="text" id="cvRank" placeholder="e.g., Subedar Major, Petty Officer">
                            </div>
                            
                            <div class="form-group">
                                <label>Years of Service</label>
                                <input type="text" id="cvYears" placeholder="e.g., 20 years">
                            </div>
                            
                            <div class="form-group">
                                <label>Specialization</label>
                                <input type="text" id="cvSpecialization" placeholder="e.g., Infantry, Signals, Engineering">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">Skills & Expertise</h3>
                        <div class="form-group">
                            <label>Key Skills (Press Enter after each skill)</label>
                            <input type="text" id="skillInput" placeholder="Add a skill and press Enter">
                            <div id="skillsContainer" class="skills-container"></div>
                        </div>
                        
                        <div class="form-group">
                            <label>Military Experience Summary</label>
                            <textarea id="cvExperience" rows="5" placeholder="Describe your military experience, key responsibilities, and achievements"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="form-section-title">Target Job Information</h3>
                        <div class="form-group">
                            <label>Target Job Title</label>
                            <input type="text" id="targetJobTitle" placeholder="e.g., Security Manager, Operations Head">
                        </div>
                        
                        <div class="form-group">
                            <label>Job Description (Paste for AI optimization)</label>
                            <textarea id="jobDescription" rows="5" placeholder="Paste the job description here for AI-optimized CV generation"></textarea>
                        </div>
                    </div>
                    
                    <button onclick="generateCV()" style="width: 250px; margin: 20px auto; display: block;">Generate AI-Optimized CV</button>
                    
                    <div id="aiProgress" class="ai-progress" style="display: none;">
                        <div class="ai-progress-header">
                            <span>🤖</span>
                            <span>AI Analysis in Progress</span>
                        </div>
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                        </div>
                        <p id="progressStatus" style="margin-top: 10px; font-size: 14px; opacity: 0.8;">Initializing AI engine...</p>
                    </div>
                    
                    <div id="aiInsights" class="ai-insights" style="display: none;">
                        <div class="ai-insights-header">
                            <span>💡</span>
                            <span>AI Optimization Insights</span>
                        </div>
                        <div id="insightsList"></div>
                    </div>
                </div>
                
                <div id="cvPreview" class="cv-preview" style="display: none;"></div>
            </div>

            <!-- Profile Section -->
            <div id="profile" class="section">
                <div class="profile-header">
                    <div class="profile-avatar">👤</div>
                    <h2 id="profileDisplayName" style="margin-bottom: 10px;">Ex-Serviceman</h2>
                    <p id="profileDisplayService" style="opacity: 0.8;">Service Details</p>
                    
                    <div class="profile-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="profileJobsApplied">0</div>
                            <div class="stat-label">Jobs Applied</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="profileCVsGenerated">0</div>
                            <div class="stat-label">CVs Generated</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="profileMatchScore">0%</div>
                            <div class="stat-label">Avg Match Score</div>
                        </div>
                    </div>
                </div>
                
                <div class="cv-form">
                    <h3 class="form-section-title">Update Profile Information</h3>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Service Number</label>
                            <input type="text" id="profileServiceNumber" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="profileName">
                        </div>
                        
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="profileEmail">
                        </div>
                        
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" id="profilePhone">
                        </div>
                        
                        <div class="form-group">
                            <label>Service Branch</label>
                            <select id="profileBranch">
                                <option value="">Select Branch</option>
                                <option value="army">Indian Army</option>
                                <option value="navy">Indian Navy</option>
                                <option value="airforce">Indian Air Force</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Years of Service</label>
                            <input type="text" id="profileYears">
                        </div>
                    </div>
                    
                    <button onclick="updateProfile()" style="width: 200px; margin-top: 20px;">Update Profile</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loader" class="loader">
        <div class="loader-circle"></div>
    </div>

    <!-- Toast Message -->
    <div id="toast" class="toast"></div>

    <script>
        // Global variables
        let currentUser = null;
        let skills = [];
        let userProfile = {
            jobsApplied: 0,
            cvsGenerated: 0,
            matchScores: []
        };

        // Simulated Defence Database
        const defenceDatabase = {
            'JC123456': {
                name: 'Col. Rajesh Kumar (Retd.)',
                branch: 'army',
                rank: 'Colonel',
                yearsOfService: 24,
                specialization: 'Infantry',
                skills: ['Leadership', 'Strategic Planning', 'Crisis Management', 'Team Building'],
                clearanceLevel: 'Secret',
                decorations: ['Sena Medal', 'AVSM']
            },
            'NS234567': {
                name: 'Cdr. Priya Sharma (Retd.)',
                branch: 'navy',
                rank: 'Commander',
                yearsOfService: 20,
                specialization: 'Navigation',
                skills: ['Maritime Operations', 'Logistics', 'Risk Assessment', 'Project Management'],
                clearanceLevel: 'Top Secret',
                decorations: ['Nau Sena Medal']
            },
            'AF345678': {
                name: 'Wg Cdr. Arun Singh (Retd.)',
                branch: 'airforce',
                rank: 'Wing Commander',
                yearsOfService: 22,
                specialization: 'Fighter Pilot',
                skills: ['Aviation', 'Technical Operations', 'Emergency Response', 'Training & Development'],
                clearanceLevel: 'Secret',
                decorations: ['Vayu Sena Medal']
            }
        };

        // AI/ML Algorithm for Job Matching
        class JobMatchingAI {
            constructor() {
                this.skillWeights = {
                    'Leadership': ['manager', 'head', 'director', 'lead', 'chief'],
                    'Security': ['security', 'safety', 'protection', 'guard', 'surveillance'],
                    'Operations': ['operations', 'logistics', 'supply chain', 'process'],
                    'Administration': ['admin', 'administrative', 'office', 'coordination'],
                    'Training': ['training', 'instructor', 'educator', 'mentor'],
                    'Technical': ['technical', 'engineering', 'maintenance', 'systems'],
                    'Crisis Management': ['crisis', 'emergency', 'risk', 'disaster'],
                    'Project Management': ['project', 'planning', 'implementation', 'delivery']
                };
            }

            calculateMatchScore(userSkills, jobDescription, userExperience) {
                let score = 0;
                const jobDescLower = jobDescription.toLowerCase();
                
                // Skill matching (40% weight)
                userSkills.forEach(skill => {
                    if (jobDescLower.includes(skill.toLowerCase())) {
                        score += 10;
                    }
                    
                    // Check related keywords
                    Object.entries(this.skillWeights).forEach(([category, keywords]) => {
                        if (skill.toLowerCase().includes(category.toLowerCase())) {
                            keywords.forEach(keyword => {
                                if (jobDescLower.includes(keyword)) {
                                    score += 5;
                                }
                            });
                        }
                    });
                });
                
                // Experience matching (30% weight)
                if (userExperience) {
                    const expYears = parseInt(userExperience);
                    if (expYears > 20) score += 30;
                    else if (expYears > 15) score += 25;
                    else if (expYears > 10) score += 20;
                    else if (expYears > 5) score += 15;
                }
                
                // Military background bonus (30% weight)
                const militaryKeywords = ['leadership', 'discipline', 'strategic', 'operational', 'team', 'management'];
                militaryKeywords.forEach(keyword => {
                    if (jobDescLower.includes(keyword)) {
                        score += 5;
                    }
                });
                
                return Math.min(Math.round(score), 100);
            }

            translateMilitarySkills(militarySkills) {
                const translationMap = {
                    'Infantry Operations': 'Security Management & Strategic Planning',
                    'Navigation': 'Logistics & Route Optimization',
                    'Fighter Operations': 'High-Pressure Decision Making & Risk Assessment',
                    'Signals': 'Communication Systems & Network Management',
                    'Engineering': 'Technical Project Management & Infrastructure',
                    'Medical Corps': 'Healthcare Administration & Emergency Response',
                    'Artillery': 'Precision Planning & Resource Allocation'
                };
                
                return militarySkills.map(skill => translationMap[skill] || skill);
            }

            generateOptimizedContent(userData, jobDescription) {
                const keywords = this.extractKeywords(jobDescription);
                const optimizedSkills = this.optimizeSkills(userData.skills, keywords);
                const achievements = this.generateAchievements(userData);
                
                return {
                    summary: this.generateSummary(userData, keywords),
                    skills: optimizedSkills,
                    achievements: achievements,
                    keywords: keywords
                };
            }

            extractKeywords(text) {
                const commonWords = ['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for'];
                const words = text.toLowerCase().split(/\W+/);
                const wordFreq = {};
                
                words.forEach(word => {
                    if (word.length > 3 && !commonWords.includes(word)) {
                        wordFreq[word] = (wordFreq[word] || 0) + 1;
                    }
                });
                
                return Object.entries(wordFreq)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 10)
                    .map(([word]) => word);
            }

            optimizeSkills(userSkills, jobKeywords) {
                const optimized = [...userSkills];
                
                jobKeywords.forEach(keyword => {
                    Object.entries(this.skillWeights).forEach(([category, related]) => {
                        if (related.includes(keyword) && !optimized.some(s => s.toLowerCase().includes(category.toLowerCase()))) {
                            optimized.push(category);
                        }
                    });
                });
                
                return optimized.slice(0, 12);
            }

            generateSummary(userData, keywords) {
                let summary = `Highly accomplished ${userData.rank || 'military professional'} with ${userData.years || '15+'} years of exemplary service in the ${userData.branch || 'Indian Armed Forces'}. `;
                
                if (keywords.includes('security') || keywords.includes('safety')) {
                    summary += 'Extensive expertise in security operations, threat assessment, and crisis management. ';
                }
                
                if (keywords.includes('management') || keywords.includes('leadership')) {
                    summary += 'Proven track record of leading diverse teams and implementing strategic initiatives. ';
                }
                
                if (keywords.includes('operations') || keywords.includes('logistics')) {
                    summary += 'Strong background in operational planning and logistics management. ';
                }
                
                summary += 'Ready to leverage military precision and leadership excellence in the corporate sector.';
                
                return summary;
            }

            generateAchievements(userData) {
                const achievements = [
                    `Led and managed teams of ${userData.years ? userData.years * 5 : 100}+ personnel in high-stakes operations`,
                    'Implemented strategic initiatives resulting in 40% improvement in operational efficiency',
                    'Managed resources and budgets exceeding ₹50 crores with zero discrepancies',
                    'Received multiple commendations for exceptional leadership and service',
                    'Developed and executed training programs for 500+ personnel',
                    'Successfully completed 100+ critical missions with zero casualties'
                ];
                
                return achievements.slice(0, 5);
            }
        }

        // Initialize AI
        const jobMatchingAI = new JobMatchingAI();

        // Hide particles when app is loaded
        function hideParticles() {
            const particles = document.querySelector('.particles');
            if (particles) {
                particles.style.display = 'none';
            }
        }

        // Login Handler
        function handleLogin(event) {
            event.preventDefault();
            const serviceNumber = document.getElementById('serviceNumber').value.toUpperCase();
            const password = document.getElementById('password').value;
            
            // Check against defence database
            if (defenceDatabase[serviceNumber] && password) {
                currentUser = {
                    serviceNumber: serviceNumber,
                    ...defenceDatabase[serviceNumber]
                };
                
                // Initialize user skills
                skills = [...currentUser.skills];
                
                // Hide particles and show app
                hideParticles();
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('appContainer').style.display = 'block';
                document.getElementById('userName').textContent = `Welcome, ${currentUser.name}`;
                document.getElementById('profileServiceNumber').value = serviceNumber;
                
                // Update profile display
                updateProfileDisplay();
                
                showToast('Login successful! Welcome to Ex-Servicemen Career Portal');
                
                // Load dashboard data
                loadDashboard();
                
                // Generate AI recommendations
                generateRecommendations();
            } else {
                showToast('Invalid credentials. Please use these : JC123456, NS234567, or AF345678');
            }
        }

        // Dashboard Functions
        function loadDashboard() {
            showSection('dashboard');
            updateDashboardStats();
        }

        function updateDashboardStats() {
            document.getElementById('jobsAppliedCount').textContent = userProfile.jobsApplied;
            document.getElementById('cvsGeneratedCount').textContent = userProfile.cvsGenerated;
            
            const avgScore = userProfile.matchScores.length > 0 
                ? Math.round(userProfile.matchScores.reduce((a, b) => a + b, 0) / userProfile.matchScores.length)
                : 0;
            document.getElementById('avgMatchScore').textContent = avgScore + '%';
            
            // Calculate profile strength
            let profileStrength = 0;
            if (currentUser.name) profileStrength += 25;
            if (currentUser.skills.length > 3) profileStrength += 25;
            if (currentUser.yearsOfService > 10) profileStrength += 25;
            if (currentUser.specialization) profileStrength += 25;
            
            document.getElementById('profileStrength').textContent = profileStrength + '%';
        }

        // Generate AI Recommendations
        function generateRecommendations() {
            const recommendations = [
                {
                    title: 'Security Operations Manager',
                    company: 'Reliance Industries',
                    location: 'Mumbai',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹15-20 LPA',
                    description: 'Leading security operations for corporate facilities. Military background preferred.',
                    matchScore: 92,
                    reason: 'Matches your security and leadership experience'
                },
                {
                    title: 'Crisis Management Head',
                    company: 'Tata Consultancy Services',
                    location: 'Pune',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹18-25 LPA',
                    description: 'Develop and implement crisis management strategies across organization.',
                    matchScore: 88,
                    reason: 'Aligns with your crisis management skills'
                },
                {
                    title: 'Operations Director',
                    company: 'Amazon India',
                    location: 'Bangalore',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹25-35 LPA',
                    description: 'Oversee large-scale operations and logistics. Ex-servicemen preferred.',
                    matchScore: 85,
                    reason: 'Matches your operational leadership experience'
                }
            ];
            
            displayJobs(recommendations, 'recommendedJobs');
        }

        // Logout Handler
        function logout() {
            currentUser = null;
            skills = [];
            userProfile = { jobsApplied: 0, cvsGenerated: 0, matchScores: [] };
            
            // Show particles again
            const particles = document.querySelector('.particles');
            if (particles) {
                particles.style.display = 'block';
            }
            
            document.getElementById('loginSection').style.display = 'flex';
            document.getElementById('appContainer').style.display = 'none';
            document.getElementById('loginForm').reset();
            showToast('Logged out successfully');
        }

        // Section Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the corresponding nav link
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.textContent.toLowerCase().includes(sectionId.toLowerCase()) ||
                    (sectionId === 'dashboard' && link.textContent === 'Dashboard')) {
                    link.classList.add('active');
                }
            });
        }

        // Job Search Functions
        function searchJobs() {
            showLoader();
            const keywords = document.getElementById('searchKeywords').value;
            const location = document.getElementById('searchLocation').value;
            const experience = document.getElementById('experienceLevel').value;
            const jobType = document.getElementById('jobType').value;
            const salaryRange = document.getElementById('salaryRange').value;
            const industry = document.getElementById('industry').value;
            
            // Simulate AI job search with matching
            setTimeout(() => {
                const jobs = generateJobResults(keywords, location, experience, jobType, salaryRange, industry);
                
                // Calculate match scores for each job
                jobs.forEach(job => {
                    job.matchScore = jobMatchingAI.calculateMatchScore(
                        currentUser.skills,
                        job.description,
                        currentUser.yearsOfService
                    );
                });
                
                // Sort by match score
                jobs.sort((a, b) => b.matchScore - a.matchScore);
                
                displayJobs(jobs, 'jobResults');
                hideLoader();
                showToast(`Found ${jobs.length} AI-matched jobs for you`);
            }, 1500);
        }

        function generateJobResults(keywords, location, experience, jobType, salaryRange, industry) {
            // Enhanced job database with more details
            const jobDatabase = [
                {
                    title: 'Security Head',
                    company: 'Infosys Limited',
                    location: 'Pune',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹20-30 LPA',
                    industry: 'it',
                    description: 'Leading IT company seeking experienced security professional with military background. Manage enterprise security operations.',
                    requirements: ['Security clearance', 'Leadership experience', 'Crisis management'],
                    postedDate: '1 day ago'
                },
                {
                    title: 'Facility Operations Manager',
                    company: 'DLF Group',
                    location: 'Gurgaon',
                    type: 'Full Time',
                    experience: 'Mid Level',
                    salary: '₹10-15 LPA',
                    industry: 'real-estate',
                    description: 'Managing large commercial properties, ex-servicemen preferred. Oversee facility operations and security.',
                    requirements: ['Operations management', 'Team leadership', 'Resource planning'],
                    postedDate: '5 days ago'
                },
                {
                    title: 'Crisis Management Consultant',
                    company: 'PwC India',
                    location: 'Mumbai',
                    type: 'Contract',
                    experience: 'Senior Level',
                    salary: '₹25-40 LPA',
                    industry: 'consulting',
                    description: 'Consulting role for crisis and risk management. Help clients develop emergency response strategies.',
                    requirements: ['Strategic planning', 'Risk assessment', 'Communication skills'],
                    postedDate: '1 week ago'
                },
                {
                    title: 'Corporate Training Manager',
                    company: 'Mahindra Group',
                    location: 'Chennai',
                    type: 'Full Time',
                    experience: 'Mid Level',
                    salary: '₹12-18 LPA',
                    industry: 'manufacturing',
                    description: 'Corporate training role, military training experience valued. Design and implement training programs.',
                    requirements: ['Training experience', 'Curriculum development', 'Leadership'],
                    postedDate: '4 days ago'
                },
                {
                    title: 'Supply Chain Head',
                    company: 'Flipkart',
                    location: 'Bangalore',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹30-45 LPA',
                    industry: 'logistics',
                    description: 'Lead supply chain operations for e-commerce giant. Military logistics experience highly valued.',
                    requirements: ['Logistics management', 'Strategic planning', 'Technology adoption'],
                    postedDate: '2 days ago'
                },
                {
                    title: 'Government Liaison Officer',
                    company: 'L&T Defence',
                    location: 'Delhi',
                    type: 'Full Time',
                    experience: 'Senior Level',
                    salary: '₹20-30 LPA',
                    industry: 'government',
                    description: 'Interface with defence establishments. Ex-servicemen with defence procurement experience preferred.',
                    requirements: ['Government relations', 'Defence knowledge', 'Communication'],
                    postedDate: '3 days ago'
                }
            ];
            
            // Filter based on search criteria
            let filteredJobs = jobDatabase;
            
            if (keywords) {
                filteredJobs = filteredJobs.filter(job => 
                    job.title.toLowerCase().includes(keywords.toLowerCase()) ||
                    job.description.toLowerCase().includes(keywords.toLowerCase()) ||
                    job.requirements.some(req => req.toLowerCase().includes(keywords.toLowerCase()))
                );
            }
            
            if (location) {
                filteredJobs = filteredJobs.filter(job => 
                    job.location.toLowerCase().includes(location.toLowerCase())
                );
            }
            
            if (experience) {
                filteredJobs = filteredJobs.filter(job => 
                    job.experience.toLowerCase().includes(experience)
                );
            }
            
            if (jobType) {
                filteredJobs = filteredJobs.filter(job => 
                    job.type.toLowerCase().includes(jobType)
                );
            }
            
            if (salaryRange) {
                filteredJobs = filteredJobs.filter(job => {
                    const salary = job.salary.match(/\d+/);
                    if (salary) {
                        const salaryNum = parseInt(salary[0]);
                        if (salaryRange === '0-5') return salaryNum <= 5;
                        if (salaryRange === '5-10') return salaryNum >= 5 && salaryNum <= 10;
                        if (salaryRange === '10-20') return salaryNum >= 10 && salaryNum <= 20;
                        if (salaryRange === '20+') return salaryNum >= 20;
                    }
                    return true;
                });
            }
            
            if (industry) {
                filteredJobs = filteredJobs.filter(job => 
                    job.industry === industry
                );
            }
            
            return filteredJobs;
        }

        function displayJobs(jobs, containerId) {
            const resultsContainer = document.getElementById(containerId);
            resultsContainer.innerHTML = '';
            
            if (jobs.length === 0) {
                resultsContainer.innerHTML = '<p style="text-align: center; opacity: 0.7;">No jobs found matching your criteria. Try adjusting your filters.</p>';
                return;
            }
            
            jobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card';
                jobCard.innerHTML = `
                    <div class="job-card-header">
                        <div>
                            <h3 class="job-title">${job.title}</h3>
                            <p class="job-company">${job.company}</p>
                        </div>
                        ${job.matchScore ? `<div class="match-score">🎯 ${job.matchScore}% Match</div>` : ''}
                    </div>
                    <div class="job-details">
                        <span class="job-detail-item">📍 ${job.location}</span>
                        <span class="job-detail-item">💼 ${job.type}</span>
                        <span class="job-detail-item">📊 ${job.experience}</span>
                        ${job.salary ? `<span class="job-detail-item">💰 ${job.salary}</span>` : ''}
                        <span class="job-detail-item">📅 ${job.postedDate}</span>
                    </div>
                    <p style="margin-top: 12px; opacity: 0.9; line-height: 1.6;">${job.description}</p>
                    ${job.reason ? `<p style="margin-top: 8px; color: var(--success-color); font-size: 14px;">✓ ${job.reason}</p>` : ''}
                    <button class="apply-btn" onclick="applyForJob('${job.title}', '${job.company}', ${job.matchScore || 0})">
                        Apply Now →
                    </button>
                `;
                resultsContainer.appendChild(jobCard);
            });
        }

        function applyForJob(jobTitle, company, matchScore) {
            userProfile.jobsApplied++;
            if (matchScore > 0) {
                userProfile.matchScores.push(matchScore);
            }
            updateDashboardStats();
            showToast(`Application submitted for ${jobTitle} at ${company}`);
        }

        // CV Generator Functions
        document.getElementById('skillInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addSkill();
            }
        });

        function addSkill() {
            const skillInput = document.getElementById('skillInput');
            const skill = skillInput.value.trim();
            
            if (skill && !skills.includes(skill)) {
                skills.push(skill);
                updateSkillsDisplay();
                skillInput.value = '';
            }
        }

        function removeSkill(skill) {
            skills = skills.filter(s => s !== skill);
            updateSkillsDisplay();
        }

        function updateSkillsDisplay() {
            const container = document.getElementById('skillsContainer');
            if (skills.length === 0) {
                container.innerHTML = '<span style="opacity: 0.5;">No skills added yet</span>';
            } else {
                container.innerHTML = skills.map(skill => `
                    <span class="skill-tag">
                        ${skill}
                        <span class="skill-remove" onclick="removeSkill('${skill}')">×</span>
                    </span>
                `).join('');
            }
        }

        function generateCV() {
            const aiProgress = document.getElementById('aiProgress');
            const progressFill = document.getElementById('progressFill');
            const progressStatus = document.getElementById('progressStatus');
            const aiInsights = document.getElementById('aiInsights');
            
            // Show AI progress
            aiProgress.style.display = 'block';
            aiInsights.style.display = 'none';
            
            // Collect form data
            const cvData = {
                name: document.getElementById('cvName').value || currentUser.name,
                email: document.getElementById('cvEmail').value,
                phone: document.getElementById('cvPhone').value,
                location: document.getElementById('cvLocation').value,
                branch: document.getElementById('cvBranch').value || currentUser.branch,
                rank: document.getElementById('cvRank').value || currentUser.rank,
                years: document.getElementById('cvYears').value || currentUser.yearsOfService,
                specialization: document.getElementById('cvSpecialization').value || currentUser.specialization,
                experience: document.getElementById('cvExperience').value,
                targetJobTitle: document.getElementById('targetJobTitle').value,
                jobDescription: document.getElementById('jobDescription').value,
                skills: skills
            };
            
            // Validate required fields
            if (!cvData.name || !cvData.email || !cvData.phone) {
                aiProgress.style.display = 'none';
                showToast('Please fill in all required fields');
                return;
            }
            
            // Simulate AI CV generation with progress updates
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                progressFill.style.width = progress + '%';
                
                // Update status messages
                if (progress === 20) progressStatus.textContent = 'Analyzing military experience...';
                else if (progress === 40) progressStatus.textContent = 'Translating skills to civilian terms...';
                else if (progress === 60) progressStatus.textContent = 'Optimizing for ATS systems...';
                else if (progress === 80) progressStatus.textContent = 'Matching with job requirements...';
                else if (progress === 100) {
                    progressStatus.textContent = 'Finalizing AI-optimized CV...';
                    clearInterval(progressInterval);
                    
                    // Generate CV after progress completes
                    setTimeout(() => {
                        const aiOptimized = jobMatchingAI.generateOptimizedContent(cvData, cvData.jobDescription);
                        const cv = generateAIOptimizedCV(cvData, aiOptimized);
                        
                        // Show insights
                        displayAIInsights(aiOptimized);
                        
                        // Display CV
                        displayCV(cv);
                        
                        // Update stats
                        userProfile.cvsGenerated++;
                        updateDashboardStats();
                        
                        // Hide progress, show insights
                        aiProgress.style.display = 'none';
                        showToast('AI-Optimized CV generated successfully!');
                    }, 500);
                }
            }, 200);
        }

        function displayAIInsights(aiOptimized) {
            const aiInsights = document.getElementById('aiInsights');
            const insightsList = document.getElementById('insightsList');
            
            const insights = [
                `Identified ${aiOptimized.keywords.length} key keywords from job description`,
                `Translated ${aiOptimized.skills.length} military skills to civilian equivalents`,
                `Generated ${aiOptimized.achievements.length} quantifiable achievements`,
                'Optimized content for ATS (Applicant Tracking System) compatibility',
                'Emphasized leadership and management experience for civilian context'
            ];
            
            insightsList.innerHTML = insights.map(insight => 
                `<div class="insight-item">${insight}</div>`
            ).join('');
            
            aiInsights.style.display = 'block';
        }

        function generateAIOptimizedCV(data, aiOptimized) {
            // Merge AI optimizations with user data
            return {
                name: data.name,
                email: data.email,
                phone: data.phone,
                location: data.location,
                summary: aiOptimized.summary,
                militaryService: {
                    branch: data.branch,
                    rank: data.rank,
                    years: data.years,
                    specialization: data.specialization
                },
                skills: aiOptimized.skills,
                achievements: aiOptimized.achievements,
                experience: data.experience,
                keywords: aiOptimized.keywords,
                targetRole: data.targetJobTitle
            };
        }

        function displayCV(cvData) {
            const cvPreview = document.getElementById('cvPreview');
            cvPreview.style.display = 'block';
            
            const branchNames = {
                'army': 'Indian Army',
                'navy': 'Indian Navy',
                'airforce': 'Indian Air Force'
            };
            
            cvPreview.innerHTML = `
                <div style="position: relative;">
                    <div style="position: absolute; top: -20px; right: -20px; background: var(--success-color); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px;">
                        AI-Optimized
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid var(--primary-color); padding-bottom: 30px;">
                        <h1 style="color: var(--primary-color); margin-bottom: 15px; font-size: 36px;">${cvData.name}</h1>
                        <p style="font-size: 18px; color: #666; margin-bottom: 10px;">
                            ${cvData.targetRole || 'Senior Management Professional'}
                        </p>
                        <p style="font-size: 16px; color: #777;">
                            📧 ${cvData.email} | 📱 ${cvData.phone} | 📍 ${cvData.location || 'India'}
                        </p>
                    </div>
                    
                    <div style="margin-bottom: 35px;">
                        <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 20px; font-size: 24px;">
                            Professional Summary
                        </h3>
                        <p style="line-height: 1.8; font-size: 16px; text-align: justify;">${cvData.summary}</p>
                    </div>
                    
                    <div style="margin-bottom: 35px;">
                        <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 20px; font-size: 24px;">
                            Core Competencies
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                            ${cvData.skills.map(skill => `
                                <div style="background: #f5f5f5; padding: 10px 20px; border-radius: 25px; font-size: 15px; text-align: center; border: 1px solid #ddd;">
                                    ${skill}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 35px;">
                        <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 20px; font-size: 24px;">
                            Military Service
                        </h3>
                        <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary-color);">
                            <p style="font-size: 16px; margin-bottom: 8px;"><strong>Branch:</strong> ${branchNames[cvData.militaryService.branch] || 'Indian Armed Forces'}</p>
                            <p style="font-size: 16px; margin-bottom: 8px;"><strong>Rank:</strong> ${cvData.militaryService.rank || 'Not specified'}</p>
                            <p style="font-size: 16px; margin-bottom: 8px;"><strong>Years of Service:</strong> ${cvData.militaryService.years || 'Not specified'}</p>
                            <p style="font-size: 16px;"><strong>Specialization:</strong> ${cvData.militaryService.specialization || 'Not specified'}</p>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 35px;">
                        <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 20px; font-size: 24px;">
                            Key Achievements
                        </h3>
                        <ul style="line-height: 2; font-size: 16px; padding-left: 20px;">
                            ${cvData.achievements.map(achievement => `
                                <li style="margin-bottom: 10px;">${achievement}</li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 35px;">
                        <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 20px; font-size: 24px;">
                            Military Experience
                        </h3>
                        <p style="line-height: 1.8; font-size: 16px; text-align: justify;">${cvData.experience || 'Comprehensive military experience available upon request.'}</p>
                    </div>
                    
                    ${cvData.keywords && cvData.keywords.length > 0 ? `
                    <div style="margin-bottom: 35px; background: #f0f8ff; padding: 20px; border-radius: 8px;">
                        <p style="font-size: 14px; color: #666; margin-bottom: 10px;"><strong>ATS Keywords:</strong></p>
                        <p style="font-size: 13px; color: #777; line-height: 1.6;">
                            ${cvData.keywords.join(' • ')}
                        </p>
                    </div>
                    ` : ''}
                    
                    <div style="text-align: center; margin-top: 50px; padding-top: 30px; border-top: 1px solid #ddd;">
                        <button onclick="downloadCV()" style="background: var(--primary-color); color: white; padding: 12px 35px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; margin-right: 15px;">
                            📥 Download CV
                        </button>
                        <button onclick="printCV()" style="background: var(--secondary-color); color: white; padding: 12px 35px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px;">
                            🖨️ Print CV
                        </button>
                    </div>
                </div>
            `;
            
            // Scroll to CV preview
            cvPreview.scrollIntoView({ behavior: 'smooth' });
        }

        function downloadCV() {
            // In a real implementation, this would generate a PDF
            showToast('CV download feature will be available with backend integration');
        }

        function printCV() {
            window.print();
        }

        // Profile Functions
        function updateProfileDisplay() {
            if (currentUser) {
                document.getElementById('profileDisplayName').textContent = currentUser.name;
                document.getElementById('profileDisplayService').textContent = 
                    `${currentUser.rank}, ${currentUser.branch.toUpperCase()} • ${currentUser.yearsOfService} Years`;
                
                // Update form fields
                document.getElementById('profileName').value = currentUser.name;
                document.getElementById('profileBranch').value = currentUser.branch;
                document.getElementById('profileYears').value = currentUser.yearsOfService;
                
                // Update stats
                document.getElementById('profileJobsApplied').textContent = userProfile.jobsApplied;
                document.getElementById('profileCVsGenerated').textContent = userProfile.cvsGenerated;
                
                const avgScore = userProfile.matchScores.length > 0 
                    ? Math.round(userProfile.matchScores.reduce((a, b) => a + b, 0) / userProfile.matchScores.length)
                    : 0;
                document.getElementById('profileMatchScore').textContent = avgScore + '%';
            }
        }

        function updateProfile() {
            showLoader();
            
            const profileData = {
                name: document.getElementById('profileName').value,
                email: document.getElementById('profileEmail').value,
                phone: document.getElementById('profilePhone').value,
                branch: document.getElementById('profileBranch').value,
                years: document.getElementById('profileYears').value
            };
            
            // Simulate profile update
            setTimeout(() => {
                if (profileData.name) {
                    currentUser.name = profileData.name;
                    document.getElementById('userName').textContent = `Welcome, ${currentUser.name}`;
                }
                
                if (profileData.branch) currentUser.branch = profileData.branch;
                if (profileData.years) currentUser.yearsOfService = profileData.years;
                
                updateProfileDisplay();
                hideLoader();
                showToast('Profile updated successfully!');
            }, 1000);
        }

        // Utility Functions
        function showLoader() {
            document.getElementById('loader').style.display = 'block';
        }

        function hideLoader() {
            document.getElementById('loader').style.display = 'none';
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Add some initial animation to login card
            const loginCard = document.querySelector('.login-card');
            if (loginCard) {
                // Card starts invisible and fades in
                loginCard.style.opacity = '0';
                setTimeout(() => {
                    loginCard.style.opacity = '1';
                }, 100);
            }
            
            // Initialize skills display
            updateSkillsDisplay();
        });

        // Prevent form submission on Enter in search fields
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                const form = e.target.closest('form');
                if (!form) {
                    e.preventDefault();
                }
            }
        });
    </script>
</body>
</html>